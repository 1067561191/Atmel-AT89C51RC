C51 COMPILER V9.00   1                                                                     03/29/2023 22:57:34 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE 1
OBJECT MODULE PLACED IN 1.OBJ
COMPILER INVOKED BY: D:\soft\Keil\C51\BIN\C51.EXE 1.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include <reg51.h>
   2          #include <intrins.h>
   3          #include <stdio.h>
   4          
   5          code unsigned char KEY_VALUE_MAP[] = {
   6          '0',0xc0,'1',0xf9,'2',0xa4,'3',0xb0,
   7          '4',0x99,'5',0x92,'6',0x82,'7',0xf8,
   8          '8',0x80,'9',0x90,'-',0xbf,'.',0x7f,
   9          ' ',0xff,'C',0xc6
  10          };
  11          
  12          unsigned char show_list[9] = {0,0,0,0,0,0,0,0,0};
  13          unsigned char value_list[8] = {0,0,0,0,0,0,0,0};
  14          
  15          void show(unsigned char * p);
  16          
  17          int main() {
  18   1          float temp = 25.6;            
  19   1              unsigned char i,j,k = 0;
  20   1          sprintf(show_list,"C    %.1f",temp);
  21   1              for (i = 0; i < 8; i++, k++) {
  22   2                  for (j = 0; j < 14; j++) {
  23   3                          if (show_list[k] == KEY_VALUE_MAP[j * 2]) {
  24   4                                  value_list[i] = KEY_VALUE_MAP[j * 2 + 1];
  25   4                                      break;
  26   4                              }
  27   3                      }
  28   2                      if (show_list[i + 1] == '.') {
  29   3                          value_list[i] = value_list[i] & 0x7f;
  30   3                              k++;
  31   3                      }
  32   2              }
  33   1              while (1) {
  34   2                  
  35   2                  show(value_list);
  36   2              }
  37   1              return 0;
  38   1      }
  39          
  40          void show(unsigned char * p) {
  41   1          static unsigned char i = 0,x = 0xfe,j;
  42   1              P2 = 0xff;
  43   1              P2 = p[i];
  44   1              P0 = x;
  45   1              for (j = 0x00; j < 0xff; j++);
  46   1              x = _crol_(x,1);
  47   1              i++;
  48   1              if (i == 8) {
  49   2                  i = 0;
  50   2              }
  51   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    182    ----
C51 COMPILER V9.00   1                                                                     03/29/2023 22:57:34 PAGE 2   

   CONSTANT SIZE    =     38    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     20       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
